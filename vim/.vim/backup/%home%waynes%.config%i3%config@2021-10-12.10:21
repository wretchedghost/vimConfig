#--------------------------------------------------------------INITIAL SETS

new_float normal 5 px
new_window normal 5 px
default_border normal 5 px
workspace_layout default
focus_follows_mouse yes
# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod
force_focus_wrapping no
font pango: Monoid 14
floating_maximum_size 1920 x 1080
floating_minimum_size 100 x 100
popup_during_fullscreen smart
force_display_urgency_hint 1000 ms
focus_on_window_activation urgent

#----------------------------------------------------------------SCRATCHPAD

bindsym $mod+minus move scratchpad 
bindsym $mod+plus scratchpad show

#-------------------------------------------------------------MAIN BINDINGS

gaps inner 10
gaps outer 5

#--------------------------------------------------------------GAPS SECTION

bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+s sticky toggle
bindsym $mod+Shift+q kill

bindsym $mod+Return exec --no-startup-id urxvt 

# Brightness Control
bindsym $mod+Shift+Ctrl+Up exec /usr/bin/xbacklight -inc 10%
bindsym $mod+Shift+Ctrl+Down exec /usr/bin/xbacklight -dec 10%

#bindsym $mod+F2 exec palemoon 
bindsym $mod+n exec /bin/bash ~/bin/visionclient/app/visionclientlauncher.sh
bindsym $mod+p exec exec /usr/bin/spotify 

# Open up Brave
#bindsym $mod+f exec /usr/bin/firefox
bindsym $mod+f exec --no-startup-id /usr/bin/brave-browser-beta
bindsym $mod+F3 exec --no-startup-id pcmanfm 


# start a terminal floating and centered
bindsym $mod+Shift+Return exec --no-startup-id urxvt -name wretchedurxvt
for_window [class="wretchedurxvt"] floating enable move position center

# start rofi (a program launcher)
bindsym $mod+d exec --no-startup-id rofi -show drun

# launch pavucontrol
bindsym $mod+Ctrl+m exec --no-startup-id pavucontrol -name Pavucontrol 

# launch a terminal with htop running
bindsym $mod+i exec --no-startup-id urxvt -e htop 

# Start winbox
bindsym $mod+m exec --no-startup-id wine ~/Downloads/winbox64.exe -name Winbox
for_window [class="Winbox"] floating window

# split in horizontal orientation
bindsym $mod+semicolon split h;exec notify-send 'tile horizontally'

# split in vertical orientation
bindsym $mod+v split v;exec notify-send 'tile vertically'

# split toggle
bindsym $mod+q split toggle; exec notify-send 'tile toggle'

# enter fullscreen mode for the focused container
bindsym $mod+F11 fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

#-------------------------------------------------------------SOME COLORS

# class                  border   backgr.  text     indic.   child_border
# Nice gentoo (light purple) color
#client.focused				#b294bb			#b294bb 		#ffffff 	#b294bb 
# Nice blue color
#client.focused				#57a7d9			#57a7d9 		#ffffff     #57a7d9
# Nice yellow color
client.focused				#dee04c			#dee04c 		#ffffff     #dee04c 
#client.focused_inactive  #222222  #000000  #888888  #222222  #222222
client.focused_inactive	#85678F 		$85678F 		#1A1A1A 	#1A1A1A
client.unfocused         #222222  #000000  #555555  #222222  #222222
client.urgent				#3B89B5 		#3B89B5 		#a5a5a5 	#85678F
client.placeholder       #222222  #000000  #000000  #222222  #222222

client.background			#1A1A1A

#------------------------------------------------------------WORKSPACE ASSIGNMENT

# Open applications on specific workspaces 
assign [class="Brave"] $ws1
assign [class="Pale Moon"] $ws1
assign [class="Firefox"] $ws1
assign [class="Thunderbird"] $ws3
assign [class="Signal"] $ws4
assign [class="Remmina"] $ws6
assign [class="Spotify"] $ws8
assign [class="Teamviewer"] $ws9

#--------------------------------------------------------------------WINDOW FOCUS

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Left focus left
bindsym $mod+Right focus right
bindsym $mod+Up focus up
bindsym $mod+Down focus down 

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

#-----------------------------------------------------------------WINDOW SPLITTING

bindsym $mod+apostrophe split horizontal 
bindsym $mod+slash split vertical 
bindsym $mod+backslash workspace back_and_forth

#---------------------------------------------------------------CONTAINER MOVEMENT

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

#--------------------------------------------------------------WORKSPACE SWITCHING

bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

#------------------------------------------------------------------WINDOW RESIZING

mode "resize" {
        bindsym h resize shrink width 50 px or 50 ppt
        bindsym j resize grow height 50 px or 50 ppt
        bindsym k resize shrink height 50 px or 50 ppt
        bindsym l resize grow width 50 px or 50 ppt

        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}
bindsym $mod+r 				mode "resize"

# Dynamic screen resizing
bindsym $mod+Shift+u exec --no-startup-id ~/.config/i3/i3resize.sh left
bindsym $mod+Shift+i exec --no-startup-id ~/.config/i3/i3resize.sh down
bindsym $mod+Shift+o exec --no-startup-id ~/.config/i3/i3resize.sh up
bindsym $mod+Shift+p exec --no-startup-id ~/.config/i3/i3resize.sh right

#------------------------------------------------------------REDSHIFT ADJUSTMENTS

bindsym $mod+Ctrl+0 --no-startup-id redshifter raise 500
bindsym $mod+Ctrl+9 --no-startup-id redshifter lower 500
bindsym $mod+Ctrl+8 --no-startup-id redshifter reset

#-------------------------------------------------------------------GROUP ACTIONS

# I don't know what I want to use this for just yet but its here for reference
bindsym $mod+F8 [class="^URxvt$"] kill

#---------------------------------------------------------------------MISC WINDOWS

for_window [window_role="popup"] floating enable
for_window [class=".*"] border pixel 2
#for_window [class=".*"] floating enable
for_window [class="^Links$" title="^Links$"] floating disabled
for_window [title="^Event Tester$" id="0x1000001"] floating enable

#--------------------------------------------------------------THUNDERBIRD WINODWS

for_window [class="^Thunderbird$" title=" ? Mozilla Thunderbird$"] floating disabled
for_window [class="^Thunderbird$" title="Sending Message - Re:.*$"] floating enable

#--------------------------------------------------------------TERMINOLOGY WINDOWS

for_window [class="^terminology$"] floating disabled

#---------------------------------------------------------------------GIMP WINDOWS

for_window [class="^Gimp$" title="^GNU Image Manipulation Program$"] floating disabled
for_window [class="^Gimp$" title=" ? GIMP$"] floating disabled
for_window [class="^Gimp$" title="Tool Options$"] floating enable
for_window [class="^Gimp$" title="^Quit GIMP$"] floating enable

#---------------------------------------------------------------------------STEAM

for_window [class="^Steam$"] floating disabled
for_window [class="^Steam$" title=" - Steam$"] floating enable
for_window [class="^Steam$" title="^About Steam$"] floating enable
for_window [class="^Steam$" title="^Add a Game$"] floating enable
for_window [class="^Steam$" title="^Create or select new Steam library folder:$"] floating enable
for_window [class="^Steam$" title="^Friends List$"] floating enable
for_window [class="^Steam$" title="^Install - "] floating enable
for_window [class="^Steam$" title="^Product Activation$"] floating enable
for_window [class="^Steam$" title="^Properties - "] floating enable
for_window [class="^Steam$" title="^Settings$"] floating enable
for_window [class="^Steam$" title="^Steam - Error$"] floating enable
for_window [class="^Steam$" title="^Steam - News "] floating enable
for_window [class="^Steam$" title="^Steam Library Folders$"] floating enable
for_window [class="^Steam$" title="^Validating Steam files - "] floating enable

#---------------------------------------------------------------------------LINKS2

for_window [class="^Links$" title="^Links - "] floating enable

#-------------------------------------------------------------------EXTRA BINDINGS

# Caps Indicator 
bindsym --release Caps_Lock exec pkill -SIGRTMIN+11 i3blocks
bindsym --release Num_Lock exec pkill -SIGRTMIN+11 i3blocks

# sound settings
bindsym XF86AudioRaiseVolume exec amixer -q set Master 5%+ unmute
bindsym XF86AudioLowerVolume exec amixer -q set Master 5%- unmute
bindsym XF86AudioMute exec amixer -D pulse set Master 1+ toggle

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

#bindsym $mod+Escape			workspace prev
bindsym $mod+Shift+Escape	exec --no-startup-id prompt "Exit i3?" "i3-msg exit"

#bindsym $mod+x exec /home/wretchedghost/.config/i3/lock.sh
bindsym $mod+x exec $HOME/.config/i3/lock_and_blur.sh

# Take a screenshot with scrot
bindsym Print exec --no-startup-id i3-scrot 
bindsym $mod+Print --release exec --no-startup-id i3-scrot -w 
bindsym $mod+Shift+Print --release exec --no-startup-id i3-scrot -s 




# Set mod key (Mod1=<Alt>, Mod4=<Super>)
set $mod mod4

# Set defualt desktop layout (default is tiling) <stacking|tabbed>
# workspace_layout tabbed 

hide_edge_borders none 

# Used if you want to toggle the border.
#bindsym $mod+F5 border normal

#font pango:monospace 12
#font xft:URWGothic-Book 12 # New from Manjaro



# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1 "1:"
#set $ws1 "1"
set $ws2 "2:"
#set $ws2 "2"
set $ws3 "3:"
#set $ws3 "3"
set $ws4 "4:"
#set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8:"
#set $ws8 "8"
set $ws9 "9"
set $ws10 "10:"
#set $ws10 "10"

# switch to workspace with urgent window automatically
#focus_on_window_activation urgent
for_window [class="Brave"] focus
for_window [class="Signal"] focus
for_window [class="Teamviewer"] focus
for_window [class="Spotify"] focus
for_window [class="Remmina"] focus
for_window [class="(?i)gsimplecal"] floating enable, move position mouse, move down 28 px

##################### Autostart applications #####################
exec --no-startup-id /usr/bin/nm-applet
exec --no-startup-id /usr/bin/pamac-tray 
exec --no-startup-id clipit 
#exec --no-startup-id start_conky_maia 
#exec --no-startup-id /usr/bin/evolution
exec --no-startup-id /usr/bin/thunderbird
#exec --no-startup-id start_conky_green 
#exec_always --no-startup-id ff-theme-util 
#exec_always --no-startup-id fix_xcursor 
exec --no-startup-id /usr/bin/numlockx
exec --no-startup-id /usr/bin/compton -cb
# runs notify-send in critcal mode and stays up for 10 seconds (10000 mili)
exec xautolock -detectsleep -time 10 -locker "$HOME/.config/i3/lock_and_blur.sh" \
	-notify 30 \
	-notifier "notify-send -u critical -t 10000 -- 'locking screen in 30 seconds'"
#exec --no-startup-id /usr/bin/xautolock -time 10 -locker "~/.config/i3/lock_and_blur.sh" 
#exec xautolock -time 10 -locker "~/bin/lock_and_blur.sh" &

# start dunst notification program
exec --no-startup-id /usr/bin/dunst

# randomize wallpaper and lock screen
exec --no-startup-id /usr/bin/feh --bg-fill -z ~/Pictures/Portugal/

#exec --no-startup-id /bin/bash ~/bin/visionclient/app/visionclientlauncher.sh

# sound-section
exec --no-startup-id /usr/bin/volumeicon 

# run redshift
exec --no-startup-id /usr/bin/redshift

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
	position top
	output eDP-1
		#i3bar_command ~/.config/polybar/launch.sh
        #i3bar_command i3bar
        status_command i3blocks -c ~/.config/i3blocks/i3blocks
        tray_output eDP-1
        #workspace_buttons yes
		## Colors for i3status only
		colors {
			background #000000
			#statusline #F9FAF9
			#separator #454947

			# border	backgr.		text
			#focused_workspace	#F9FAF9 #16a085 #292F34
			#active_workspace	#595B5B #353836 #FDF6E3
			#inactive_workspace	#595B5B #222D31 #EEE8D5
			#binding_mode	#16a085 #2C2C2C #F9FAF9
			#urgent_workspace	#16a085 #FDF6E3 #E5201D
	}
}

# Needed for i3-gaps
#for_window [class="^.*"] border pixel 2
for_window [class="^.*"] border pixel 3

#############################
### settings for i3-gaps: ###
#############################

# #--Dropdown Windows---# #
# General dropdown window traits. The order can matter.
# Open specific applications in floating mode
for_window [class="Pavucontrol"] floating enable
for_window [class="Galculator"] floating enable border pixel 1
for_window [title="File Transfer*"] floating enable
for_window [class="Lxappearance"] floating enable stick enable border normal
for_window [class="Manjaro-hello"] floating enable
for_window [class="Manjaro Settings Manager"] floating enable border normal

for_window [class="(?i)gsimplecal"] floating enable

# smart_gaps will full screen when only one window is open which I do not like.
#smart_gaps on
#smart_borders on
#
############### New - test then organize ##################
# Automatic back-and-forth when switching to the current window
workspace_auto_back_and_forth yes

# Sticky floating windows. Only takes effect if the windows is floating
for_window [instance=urxvt] sticky enable
for_window [class=Brave] sticky enable
for_window [class=Remmina] sticky enable
for_window [class=Thunar] sticky enable
for_window [class=Pcmanfm] sticky enable

for_window [class="Arandr"] floating enable
for_window [class="Arandr"] sticky enable

######### Use these for something else ###########


## conky
#exec --no-startup-id conky -d -c ~/.config/i3/conkybg
exec --no-startup-id conky -d -c $HOME/.config/i3/conky-left
